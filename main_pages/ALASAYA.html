  <!DOCTYPE html>
  <html lang="ar">
  <head>
    <meta charset="UTF-8">
    <title>matba3tk</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
      <style>



    body {
    background-color: rgb(255, 255, 255);
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    
}

main {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    padding: 1em;
}

.product {
    background: #ffffff !important;
}
.product {
    border: 1px solid #ddd;
    border-radius: 5px;
    margin: 1em;
    padding: 1em;
    width: 300px;
    text-align: center;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.product img {
    max-width: 100%;
    height: auto;
    border-radius: 5px;
}

.product h2 {
    color: #333;
}

.product p {
    color: #666;
}




footer {
    background-color: #f1f1f1;
    text-align: center;
    padding: 1em 0;
    margin-top: 2em;
}

    /* تأثير ظهور المنتجات */
    .product {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.5s ease-out, transform 0.5s ease-out;
    }
    
    .product.show {
      opacity: 1;
      transform: translateY(0);
    }

    /* تأثير Hover على المنتجات */
    .product {
      transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
    }
    
    .product:hover {
      transform: scale(1.05);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
    }
 
    /* إضافة تأثيرات بصرية للعناصر */
    .navbar {
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      border-radius: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px;
    }
    
    .navbar-brand {
      font-size: 24px;
      font-weight: bold;
      color: #007bff;
      margin-right: auto;
    }
    
    .search-container {
      flex-grow: 1;
      text-align: center;
    }
    
    .navbar-toggler {
      background-color: #007bff;
      border: none;
      padding: 10px;
      border-radius: 10px;
    }
    
    .navbar-toggler-icon {
      color: #fff;
    }
    
    .container-fluid {
      animation: fadeIn 2s ease-in-out;
    }
    
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }


  </style>
  </head>
  <body>
    <!-- شريط التنقل -->
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <a class="navbar-brand" href="ALASAYA.html">matba3tk store</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarContent">
          <!-- شريط البحث في المنتصف -->
          <div class="mx-auto">
            <form class="d-flex" role="search" onsubmit="return false;">
              <input class="form-control me-2" type="search" placeholder="Search" id="search-input">
              <button class="btn btn-outline-success" type="submit">Search</button>
            </form>
          </div>
          <!-- صورة المستخدم مع القائمة المنسدلة على اليمين -->
          <div class="d-flex align-items-center">
            <a href="favorite.html" class="me-3">
              <img src="photo/favorite-icon.png" alt="Favorites" width="24" height="24" >
              
            <a href="cardshop.html" class="me-3 position-relative">
              <img src="photo/cart-icon.png" alt="Cart" width="40" height="40" class="icon">
              <span id="cart-count" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
              0
              <span class="visually-hidden">unread messages</span>
              </span>
            </a>
          </div>
            <div class="dropdown">
              <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" role="button" data-bs-toggle="dropdown">
                <img id="userImage" src="photo/default-user.png" alt="User" class="rounded-circle" width="40" height="40">
                <span id="userName" class="ms-2">المستخدم</span>
              </a>
              <ul class="dropdown-menu dropdown-menu-end">
                <li><a class="dropdown-item" href="profile.html">Edit Profile</a></li>
                <li><a class="dropdown-item" href="login.html">Logout</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <!-- عرض المنتجات -->
    <main class="container mt-4">
      <div class="row" id="productsContainer">
        <!-- المنتجات -->
        <div class="col-md-4 mb-4">
          <section class="product">
            <img src="photo/15.jpg" alt="كتب ديكور" class="img-fluid">
            <h2>كتب ديكور</h2>
            <p>كتب لديكور بيتك أو مكتبك</p>
            <div class="product-buttons">
              <a href="#" class="btn btn-outline-secondary">Favorites</a>
              <a href="#" class="btn btn-outline-primary add-to-cart" data-image="photo/15.jpg" data-title="كتب ديكور" data-description="كتب لديكور بيتك أو مكتبك">Add to Cart</a>
            </div>
          </section>
        </div>
        <div class="col-md-4 mb-4">
          <section class="product">
            <img src="photo/2.jpg" alt="استيكر تشريح" class="img-fluid">
            <h2>استيكر تشريح</h2>
            <p>وصف المنتج 2</p>
            <div class="product-buttons">
              <a href="#" class="btn btn-outline-secondary">Favorites</a>
              <a href="#" class="btn btn-outline-primary add-to-cart" data-image="photo/2.jpg" data-title="استيكر تشريح" data-description="وصف المنتج 2">Add to Cart</a>
            </div>
          </section>
        </div>
        <div class="col-md-4 mb-4">
          <section class="product">
            <img src="photo/3.jpg" alt="شنط ورقية" class="img-fluid">
            <h2>شنط ورقية</h2>
            <p>وصف المنتج 3</p>
            <div class="product-buttons">
              <a href="#" class="btn btn-outline-secondary">Favorites</a>
              <a href="#" class="btn btn-outline-primary add-to-cart" data-image="photo/3.jpg" data-title="شنط ورقية" data-description="وصف المنتج 3">Add to Cart</a>
            </div>
          </section>
        </div>
        <div class="col-md-4 mb-4">
          <section class="product">
            <img src="photo/4.jpg" alt="كروت شخصية" class="img-fluid">
            <h2>كروت شخصية</h2>
            <p>كروت شخصية لشغلك أو مكتبك</p>
            <div class="product-buttons">
              <a href="#" class="btn btn-outline-secondary">Favorites</a>
              <a href="#" class="btn btn-outline-primary add-to-cart" data-image="photo/4.jpg" data-title="كروت شخصية" data-description="كروت شخصية لشغلك أو مكتبك">Add to Cart</a>
            </div>
          </section>
        </div>
        <div class="col-md-4 mb-4">
          <section class="product">
            <img src="photo/5.jpg" alt="كافر شهادات خشبي" class="img-fluid">
            <h2>كافر شهادات خشبي</h2>
            <p>وصف المنتج</p>
            <div class="product-buttons">
              <a href="#" class="btn btn-outline-secondary">Favorites</a>
              <a href="#" class="btn btn-outline-primary add-to-cart" data-image="photo/5.jpg" data-title="كافر شهادات خشبي" data-description="وصف المنتج">Add to Cart</a>
            </div>
          </section>
        </div>
        <div class="col-md-4 mb-4">
          <section class="product">
            <img src="photo/6.jpg" alt="دفتر روشتات" class="img-fluid">
            <h2>دفتر روشتات</h2>
            <p>وصف المنتج</p>
            <div class="product-buttons">
              <a href="#" class="btn btn-outline-secondary">Favorites</a>
              <a href="#" class="btn btn-outline-primary add-to-cart" data-image="photo/6.jpg" data-title="دفتر روشتات" data-description="وصف المنتج">Add to Cart</a>
            </div>
          </section>
        </div>
      </div>
    </main>

    <script>
      
// Script to handle favorite and cart functionality, user data loading, product animations, and search filtering

// نظام المفضلة
const favoriteBtns = document.querySelectorAll('.add-to-favorite');
const favoriteCounter = document.getElementById('favorite-count');

function updateFavoriteCounter() {
  const favorites = JSON.parse(localStorage.getItem('favorites')) || [];
  favoriteCounter.textContent = favorites.length;
}

favoriteBtns.forEach(btn => {
  btn.addEventListener('click', function() {
    const product = {
      id: this.dataset.id,
      image: this.dataset.image,
      title: this.dataset.title,
      price: this.dataset.price
    };

    let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
    
    // التحقق من عدم التكرار
    const existing = favorites.find(item => item.id === product.id);
    if (!existing) {
      favorites.push(product);
      localStorage.setItem('favorites', JSON.stringify(favorites));
      updateFavoriteCounter();
      btn.classList.add('active');
    }
  });
});

// التحميل الأولي
window.addEventListener('load', updateFavoriteCounter);


      document.addEventListener("DOMContentLoaded", function () {
        const cartButtons = document.querySelectorAll(".add-to-cart");

        cartButtons.forEach(button => {
          button.addEventListener("click", function () {
            const image = this.getAttribute("data-image");
            const title = this.getAttribute("data-title");
            const description = this.getAttribute("data-description");

            const cartItem = {
              image,
              title,
              description
            };

            let cart = localStorage.getItem("cart");
            if (cart) {
              cart = JSON.parse(cart);
            } else {
              cart = [];
            }

            cart.push(cartItem);
            localStorage.setItem("cart", JSON.stringify(cart));

            // تحديث عدد العناصر في السلة
            const cartCount = document.getElementById("cart-count");
            cartCount.textContent = cart.length;
          });
        });
      });
      
   

    <!-- سكريبت البحث والتصفية وتحديث صورة المستخدم -->
   
      document.addEventListener("DOMContentLoaded", function () {
        // ✅ تحميل بيانات المستخدم المحفوظة
        const savedImage = localStorage.getItem("userImage");
        const savedName = localStorage.getItem("userName");
        // Clear localStorage for debugging purposes (remove this line in production)
        // localStorage.clear();

        if (savedImage) {
          document.getElementById("userImage").src = savedImage;
        }
        if (savedName) {
          document.getElementById("userName").textContent = savedName;
        }

        // ✅ تفعيل أنيميشن ظهور المنتجات عند ظهورها في الشاشة
        const products = document.querySelectorAll(".product");
        const observer = new IntersectionObserver(entries => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add("show");
            }
          });
        }, { threshold: 0.3 });

        products.forEach(product => observer.observe(product));

        // ✅ وظيفة تصفية المنتجات بناءً على نص البحث
          document.getElementById("search-input").addEventListener("input", function () {
            const query = this.value.trim().toLowerCase();
            const productItems = document.querySelectorAll("#productsContainer .col-md-4");

            productItems.forEach(item => {
              const product = item.querySelector(".product");
              const title = product.querySelector("h2").textContent.toLowerCase();
              const description = product.querySelector("p").textContent.toLowerCase();

              if (title.includes(query) || description.includes(query)) {
                item.style.display = "block";
              } else {
                item.style.display = "none";
              }
            });
          });
        });
      </script>

    </body>
    </html>
